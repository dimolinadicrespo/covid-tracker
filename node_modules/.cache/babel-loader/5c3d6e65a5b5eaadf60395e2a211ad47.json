{"ast":null,"code":"import _regeneratorRuntime from\"/Users/molia/projects/js/react/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/molia/projects/js/react/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/molia/projects/js/react/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/molia/projects/js/react/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n    max-width: 1500px;\\n    max-height: 900px;\\n    margin: auto;\\n    padding: 25px;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"    \\n    width: 100%;\\n    height:100%;\\n    min-height: 100vh;\\n    transition: all ease 0.8s; \\n    background-color: \",\";     \\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    margin: auto;\\n    width: 95%;    \\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Fragment,useEffect,useState}from'react';import Header from'./components/Header.js';import Card from'./components/Card.js';import Select from'./components/Select.js';import Footer from'./components/Footer.js';import styled from'@emotion/styled';import{ThemeProvider}from'emotion-theming';import'@fortawesome/fontawesome-free/css/all.min.css';import{fetchGlobalData,fetchCountryData,fetchCountryDataTimeLine,fetchGlobalDataTimeline}from'./api';import{isEmoji,formatDataToChart}from'./helpers/helpers.js';import{Line}from'react-chartjs-2';var Main=styled.div(_templateObject());var Container=styled.div(_templateObject2(),function(props){return props.theme.color;});var CardWrapper=styled.div(_templateObject3());var ChartWrapper=styled.div(_templateObject4());function App(){var _useState=useState({code:'ðŸŒŽ',label:'Global'}),_useState2=_slicedToArray(_useState,2),country=_useState2[0],setCountry=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),theme=_useState4[0],setTheme=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),timeLineData=_useState6[0],setTimeLineData=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState({active:0,cases:0,deaths:0,recovered:0}),_useState10=_slicedToArray(_useState9,2),state=_useState10[0],setstate=_useState10[1];var active=state.active,cases=state.cases,deaths=state.deaths,recovered=state.recovered;var getGlobalData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchGlobalData();case 2:response=_context.sent;setLoading(false);setstate(response);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getGlobalData(){return _ref.apply(this,arguments);};}();var getGlobalDataTimeLine=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchGlobalDataTimeline();case 2:response=_context2.sent;setLoading(false);data=formatDataToChart(response);setTimeLineData(data);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getGlobalDataTimeLine(){return _ref2.apply(this,arguments);};}();var getCountryData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(countryCode){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchCountryData(countryCode);case 2:response=_context3.sent;setLoading(false);setstate(response);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getCountryData(_x){return _ref3.apply(this,arguments);};}();var getTimelineCountryData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(countryCode){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetchCountryDataTimeLine(countryCode);case 2:response=_context4.sent;data=formatDataToChart(response);setTimeLineData(data);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function getTimelineCountryData(_x2){return _ref4.apply(this,arguments);};}();useEffect(function(){if(isEmoji(country.code)){getGlobalData();getGlobalDataTimeLine();}else{getTimelineCountryData(country.code);getCountryData(country.code);}},[country]);return/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Header,{theme:theme,setTheme:setTheme}),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(Select,{setCountry:setCountry,country:country,setLoading:setLoading}),/*#__PURE__*/React.createElement(CardWrapper,null,/*#__PURE__*/React.createElement(Card,{color:'#2eb2ff',type:'Diagnosed',numberCases:cases,loading:loading}),/*#__PURE__*/React.createElement(Card,{color:'#008037',type:'Recovered',numberCases:recovered,loading:loading}),/*#__PURE__*/React.createElement(Card,{color:'#FF6384',type:'Deceased',numberCases:deaths,loading:loading}),/*#__PURE__*/React.createElement(Card,{color:'#ff914d',type:'Active',numberCases:active,loading:loading})),/*#__PURE__*/React.createElement(ChartWrapper,null,/*#__PURE__*/React.createElement(Line,{width:100,height:50,data:timeLineData,options:{maintainAspectRatio:true}}))),/*#__PURE__*/React.createElement(Footer,null)));}export default App;","map":{"version":3,"sources":["/Users/molia/projects/js/react/covid19/src/App.js"],"names":["React","Fragment","useEffect","useState","Header","Card","Select","Footer","styled","ThemeProvider","fetchGlobalData","fetchCountryData","fetchCountryDataTimeLine","fetchGlobalDataTimeline","isEmoji","formatDataToChart","Line","Main","div","Container","props","theme","color","CardWrapper","ChartWrapper","App","code","label","country","setCountry","setTheme","timeLineData","setTimeLineData","loading","setLoading","active","cases","deaths","recovered","state","setstate","getGlobalData","response","getGlobalDataTimeLine","data","getCountryData","countryCode","getTimelineCountryData","maintainAspectRatio"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport Header from './components/Header.js';\nimport Card from './components/Card.js';\nimport Select from './components/Select.js';\nimport Footer from './components/Footer.js';\nimport styled from '@emotion/styled';\nimport { ThemeProvider } from 'emotion-theming'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport {fetchGlobalData, fetchCountryData, fetchCountryDataTimeLine, fetchGlobalDataTimeline} from './api';\nimport {isEmoji, formatDataToChart} from './helpers/helpers.js';\nimport { Line } from 'react-chartjs-2';\n\nconst Main = styled.div`\n    margin: auto;\n    width: 95%;    \n`;\nconst Container = styled.div`    \n    width: 100%;\n    height:100%;\n    min-height: 100vh;\n    transition: all ease 0.8s; \n    background-color: ${props => props.theme.color};     \n`;\n\nconst CardWrapper = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n`;\n\nconst ChartWrapper = styled.div`\n    max-width: 1500px;\n    max-height: 900px;\n    margin: auto;\n    padding: 25px;\n`;\n\nfunction App() {\n\n    const [country, setCountry] = useState({ code: 'ðŸŒŽ', label: 'Global'  });\n    const [theme, setTheme] = useState({});\n    const [timeLineData, setTimeLineData] = useState({});\n    const [loading, setLoading] = useState(true);\n    const [state, setstate] = useState({\n        active: 0,\n        cases: 0,\n        deaths: 0,\n        recovered: 0\n    });\n\n    const {active, cases, deaths, recovered} = state;\n\n    const getGlobalData = async () => {\n        let response = await fetchGlobalData();\n        setLoading(false);\n        setstate(response);        \n    }\n\n    const getGlobalDataTimeLine = async () => {\n        let response = await fetchGlobalDataTimeline();\n        setLoading(false);\n        let data =  formatDataToChart(response);\n        setTimeLineData(data);       \n    }\n    const getCountryData = async (countryCode) => {\n        let response = await fetchCountryData(countryCode);\n        setLoading(false);\n        setstate(response);        \n    }\n    const getTimelineCountryData = async (countryCode) => {\n        let response = await fetchCountryDataTimeLine(countryCode);          \n        let data =  formatDataToChart(response);         \n        setTimeLineData(data);            \n    }\n\n    \n    useEffect(() => {\n        if (isEmoji(country.code)){\n            getGlobalData();\n            getGlobalDataTimeLine();\n        } else {\n            getTimelineCountryData(country.code);\n            getCountryData(country.code);\n        }             \n    }, [country]);\n    \n    return (\n        <ThemeProvider theme={theme}>\n            <Container>\n                <Header theme={theme} setTheme={setTheme}></Header> \n                <Main>\n                    <Select setCountry={setCountry} country={country} setLoading={setLoading}></Select>\n                    <CardWrapper>\n                        <Card color={'#2eb2ff'} type={'Diagnosed'} numberCases={cases} loading={loading}></Card>   \n                        <Card color={'#008037'} type={'Recovered'} numberCases={recovered} loading={loading}></Card>   \n                        <Card color={'#FF6384'} type={'Deceased'} numberCases={deaths} loading={loading}></Card>   \n                        <Card color={'#ff914d'} type={'Active'} numberCases={active} loading={loading}></Card>       \n                    </CardWrapper> \n                    <ChartWrapper>\n                        <Line \n                            width={100}\n                            height={50}\n                            data={timeLineData} \n                            options={{ maintainAspectRatio: true }}/>                         \n                    </ChartWrapper>\n                </Main>\n                <Footer></Footer>\n            </Container>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}